# Настройка Syslog на виртуалке

**Syslog** — это протокол для сбора и передачи системных сообщений и журналов событий (**logs**) в сетях. *Он используется для мониторинга, диагностики и управления сетевым оборудованием, серверами и приложениями*. **Syslog** *позволяет централизованно собирать журналы с различных устройств и систем*, что упрощает анализ и управление событиями в сети.

## Формат сообщений

**Syslog** сообщения имеют стандартизированный формат, который включает в себя:

- **Приоритет (Priority)**: Указывает на важность сообщения.
- **Фокус (Facility)**: Указывает на источник сообщения (например, ядро, почтовый сервер, сетевое оборудование).
- **Серьезность (Severity)**: Указывает на уровень серьезности сообщения (например, информация, предупреждение, ошибка).
- **Тело сообщения (Message)**: Содержит текст сообщения.

------

## Протокол

**Syslog** использует **UDP** (**User Datagram Protocol**) для передачи сообщений, что делает его легким и быстрым, но менее надежным по сравнению с **TCP**. Существует расширение протокола, называемое **Syslog-TLS**, которое использует **TLS** (**Transport Layer Security**) для обеспечения безопасности передачи данных.

------

## Архитектура

- **Syslog-сервер**: Центральный сервер, который собирает и хранит журналы с различных устройств и систем.
- **Syslog-клиент**: Устройство или система, которая отправляет журналы на **Syslog-сервер**.

-----

## Настройка на сервере

**Установите и настройте Syslog-сервер на вашем сервере**

```
$ sudo apt-get install rsyslog
```

**Добавления правила, отправка логов с коммутатор на сервер**

```
$ logging host 192.168.1.10
$ end
```

**Добавления правила для приема логов на сервере**

```
$ # Логи с коммутатора
$ if $fromhost-ip == '192.168.1.2' then /var/log/switch.log
$ & stop
```

------
