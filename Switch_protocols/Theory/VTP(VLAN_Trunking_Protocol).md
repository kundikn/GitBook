# VTP (VLAN Trunking Protocol)

Протокол **VLAN Trunking Protocol (VTP)** используется для управления **VLAN** на коммутаторах в сети. **VTP** позволяет синхронизировать информацию о **VLAN** между коммутаторами, что упрощает управление большими сетями.

## Режимы работы протокола

На коммутаторе VTP может работать в трёх режимах:

### Server (режим по умолчанию)

- Можно создавать, изменять и удалять **VLAN** из командной строки коммутатора,
- Генерирует объявления **VTP** и передает объявления от других коммутаторов,
- Может обновлять свою базу данных **VLAN** при получении информации не только от других **VTP** серверов но и от других **VTP** клиентов в одном домене, с более высоким номером ревизии.
- Сохраняет информацию о настройках **VLAN** в файле *vlan.dat* во flash.

### Client

- Нельзя создавать, изменять и удалять **VLAN** из командной строки коммутатора,
- Передает объявления от других коммутаторов,
- Синхронизирует свою базу данных **VLAN** при получении информации **VTP**,
- Сохраняет информацию о настройках **VLAN** в файле *vlan.dat* во flash.

### Transparent

- Можно создавать, изменять и удалять **VLAN** из командной строки коммутатора, но только для локального коммутатора,
- Не генерирует объявления **VTP**,
- Передает объявления от других коммутаторов,
- Не обновляет свою базу данных **VLAN** при получении информации по **VTP**,
- Сохраняет информацию о настройках **VLAN** в **NVRAM**,
- Всегда использует **configuration revision number** 0.

В версии **3 VTP** добавился новый режим работы и изменились некоторые режимы работы, по сравнению с предыдущими версиями.

**Server**:

- Добавилась поддержка **Private VLAN**
- Могут анонсироваться **VLAN** из расширенного диапазона

**Client:**

- Настройки **VLAN** сохраняются в **NVRAM** и в режиме клиента
- Добавилась поддержка **Private VLAN**
- Могут анонсироваться **VLAN** из расширенного диапазона

**Transparent:**

- без изменений

**Off:**

- Новый режим работы **VTP**, который добавился в 3 версии.
- Не передает объявления **VTP**.
- В остальном аналогичен режиму **Transparent**

-----------
